# 诗词接龙游戏 (Poetry Chain Game)

## 项目简介

诗词接龙是一款基于HTML5 Canvas的创意文字游戏，玩家通过在网格上连接汉字来创作诗句。游戏从一个初始诗句开始，玩家可以选择现有诗句中的任意汉字作为连接点，向四个方向延伸创作新的诗句，形成不断扩展的诗句网络。

### 核心玩法
- **连接创作**：选择现有诗句中的汉字，向上下左右四个方向延伸
- **字符匹配**：新诗句必须与连接点的汉字相同才能成功连接
- **网络扩展**：诗句之间可以相互连接，形成复杂的诗句网络
- **无限画布**：支持无限大的创作空间，可通过拖拽和缩放进行导航

## 功能特性

### 🎮 游戏功能
- **初始诗句**：游戏开始自动放置"春江潮水连海平"
- **方向选择**：支持水平和垂直两个方向的诗句延伸
- **实时预览**：输入诗句时实时显示预览效果
- **冲突检测**：自动检测字符冲突和连接有效性
- **回合计数**：追踪游戏进度和创作的诗句数量

### 🖱️ 交互操作
- **点击连接**：点击方向箭头选择连接点和方向
- **拖拽导航**：鼠标左键拖拽平移画布
- **滚轮缩放**：鼠标滚轮缩放视图（0.3x - 3x）
- **键盘操作**：支持Enter确认、Esc取消等快捷键

### 🎨 视觉设计
- **网格系统**：清晰的60px网格布局
- **状态反馈**：不同颜色表示有效连接、冲突和草稿状态
- **中文字体**：使用"Noto Serif SC"等优质中文字体
- **响应式布局**：适配不同屏幕尺寸

## 如何运行

### 本地运行
1. 克隆或下载项目到本地
2. 使用现代浏览器打开 `index.html` 文件
3. 即可开始游戏！

### 开发环境
```bash
# 使用本地服务器运行（推荐）
python -m http.server 8000
# 或
npx serve .
```

## 技术栈

### 核心语言
- **HTML5** - 页面结构和语义
- **CSS3** - 样式和布局
- **JavaScript (ES6+)** - 游戏逻辑和交互

### 关键技术
- **HTML5 Canvas** - 游戏画布渲染
- **事件驱动编程** - 鼠标和键盘交互
- **响应式设计** - 自适应布局
- **模块化代码** - 清晰的代码组织结构

## 项目结构

```
SCJL_Game/
├── index.html          # 主页面结构
├── style.css           # 样式表
├── script.js           # 游戏逻辑主文件
├── README.md           # 项目文档
└── docs/               # 相关文档
    └── 诗词接龙游戏-需求文档.md
```

### 核心模块
- **游戏状态管理** (`gameState`) - 管理诗句、网格、回合等状态
- **画布渲染** (`drawCanvas`) - 负责所有视觉元素的绘制
- **事件处理** - 处理点击、拖拽、缩放等用户交互
- **坐标转换** - 像素坐标与网格坐标的相互转换

## 游戏规则

### 基本规则
1. 游戏开始有一个初始诗句"春江潮水连海平"
2. 点击现有诗句中的任意汉字，选择延伸方向
3. 输入新诗句，必须包含连接点的汉字
4. 系统自动检测连接的有效性和冲突

### 胜利条件
- 无固定胜利条件，鼓励创意和探索
- 可以无限扩展诗句网络
- 挑战在于创造有意义的诗句连接

### 操作说明
- **选择连接点**：将鼠标悬停在现有汉字上，点击出现的方向箭头
- **输入诗句**：在底部输入框中输入新的诗句
- **确认连接**：点击确认按钮或按Enter键完成连接
- **取消操作**：点击取消按钮或按Esc键退出编辑模式

## 开发指南

### 代码架构
```javascript
// 游戏状态对象
const gameState = {
  poems: [],           // 存储所有诗句
  cells: new Map(),    // 网格单元映射
  currentTurn: 1,      // 当前回合
  draftMode: false,    // 编辑模式状态
  canvas: {            // 画布变换状态
    scale: 1,
    offsetX: 0,
    offsetY: 0
  }
};
```

### 扩展建议
1. **添加诗句库**：集成经典诗句数据库
2. **多人模式**：支持多人轮流创作
3. **分享功能**：导出创作的诗句网络图片
4. **主题系统**：添加不同的视觉主题

## 文档

- [需求文档](./docs/诗词接龙游戏-需求文档.md) - 详细的功能需求和设计规范
- 代码注释 - 主要函数和模块都有详细注释

## 贡献指南

欢迎提交Issue和Pull Request！请确保：

1. **代码风格**：遵循现有的代码组织和命名规范
2. **功能测试**：新功能需要经过充分测试
3. **文档更新**：重要变更需要更新相关文档
4. **向后兼容**：尽量保持API的向后兼容性

### 开发流程
1. Fork项目并创建功能分支
2. 实现功能并添加测试
3. 提交Pull Request
4. 等待代码审查和合并

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 致谢

感谢所有为中文诗歌文化传承做出贡献的开发者和艺术家。愿这个游戏能够激发更多人对古典诗词的兴趣和创作热情。

---

**开始游戏，创作属于你的诗句网络吧！** 🎋
